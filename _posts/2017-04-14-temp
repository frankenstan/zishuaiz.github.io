---
layout: post
title: "temp"
description: "MathJax"
headline: =============================================
category: Sample-Posts
tags: [scholar]
imagefeature: picture-26.jpg
comments: true
mathjax: true
---

\section{方案设计与实现}

\subsection{认证方案流程设计}
认证方案分为两个阶段：模板生成阶段和新手势匹配阶段。为了提高算法精度，首先对采集到的数据预处理，预处理方法会在2.2节详细论述。模板生成阶段，用户需要对某一手势动作连续采集5次数据，模板生成算法根据5次手势数据生成最终模板并保存。手势匹配阶段和模板生成阶段采用相同的预处理策略对数据进行预处理，然后使用Fast-DTW算法计算与模板的最下距离，和模板距离参数进行比较。整个方案的流程如图1所示。

\subsection{数据预处理}

考虑到数据采集的方便性，采集到的数据首尾都有一定的延迟和停顿。采集到的并非是用户的真实手势动作数据，需要对数据进行手势动作的端点检测，然后对数据进行截断。对数据的截断分为两步：第一步，找出数据的峰值点；第二步，根据峰值点的前后绝对差值是否小于门限值对数据进行端点检测和截断。

 1)对于在定义域内可导的连续函数，极值点为导数为0的驻点。驻点左侧导数大于0，右侧导数小于0的驻点为局部极大值点；反之为局部极小值点。同样，对于离散的手势动作线性加速度传感器数据，同样可以根据驻点的性质求出离散函数的极值点，也就是手势动作数据的峰值点。以传感器的X轴数据为例，设函数表达式为$la(x)$，对$la(x)$求中心差分，如公式1所示。

$$
	\nabla la(x_k) = \left\{
	\begin{array}{lr}
	la(x_2)-la(x_1), & k=1,  \\
	\frac{la(x_{k+1})-la(x_{k-1})}{2}, & 2\leqslant k\leqslant n-1,\\
	la(x_n) - la(x_{n-1}), &  k = n.
	\end{array}
	\right.
$$

遍历 $\nabla la(x)$，如果$\nabla la(x_k) * \nabla la(x_{k-1}) \leq0 $，
则$la(x)$对应的实际连续函数$la(t)$的驻点一定在区间$[x_{k-1},x_k]$中。使用线性插值法可以近似求解驻点对应的时刻$t_{sp}$，如公式2所示。

$$
	t_{sp} = \left\{
	\begin{array}{lr}
	x_k - \frac{\nabla la(x_k)}{\nabla la(x_k) - \nabla la(x_{k-1})}, & \nabla la(x_k) * \nabla la(x_{k-1}) < 0,  \\
	x_k, &  \nabla la(x_k) = 0.
	\end{array}
	\right.
$$


2)遍历峰值点，如果前后峰值点差的绝对值大于设定的阈值$\theta$，则认定为手势动作的开始；如果小于阈值，则认定为手势动作的结束。对传感器XYZ数据用同样的方法找出每个轴上的起始和结束点，然后取最早的起始点作为整个手势数据的起点；最晚的结束点作为手势数据的终点,最后对传感器数据进行进行截断。为了进行实验的对比仿真，选出最优的参数和数据预处理方法，参考文献\cite{bib6,bib10}，还需要对数据进行归一化和平滑滤波。分别对XYZ轴数据使用公式 $x:=\frac{x-\mu}{\sigma}$进行归一化，其中$\mu$为相应数据的平均值，$\sigma$为相应数据的标准差。采用移动平均线\cite{bib6}算法对传感器XYZ轴数据进行均值平滑滤波。


\subsection{手势动作的模板生成}
针对某一种动作模板进行注册时，用户需要连续采集5次相同的动作。为了有效的检测出手势动作的端点，动作开始和结束时尽量保证有一段时间的平稳。通过Fast—DTW算法计算5次动作数据间的最小距离，然后选出最小的三个求平均最为最终的模板距离参数。模板生成算法流程如下：

1)针对某一种动作，采集5次数据，记为 $G = [G_1,G_2,G_3,G_4,G_5]$。采用相应的预处理策略对原始线性加速度传感器数据进行预处理。处理后的数据记为$G^{'} = [G_{1}^{'},G_{2}^{'},G_{3}^{'},G_{4}^{'},G_{5}^{'}]$。

2）计算$G_{i}^{'}$和其余动作数据的平均距离，如公式(3)所示。

$$
\begin{array}{lr}
D[i] = \frac{1}{4}\sum_{j}Dist(G_{i}^{'},G_{j}^{'} ),& i,j\in \{1,2,3,4,5\}, \quad i \neq j
\end{array}
$$

其中$Dist$为传感器XYZ各自轴上的平均距离，计算公式为(4)。

$$
Dist(G_{i}^{'},G_{j}^{'} ) = \frac{1}{3}( dist(G_{i}^{'}.x, G_{j}^{'}.x) + dist(G_{i}^{'}.y, G_{j}^{'}.y) +dist(G_{i}^{'}.z, G_{j}^{'}.z) )
$$

$dist(s1,s2)$为Fast-DTW算法。Fast-DTW通过搜索半径$radius$和搜索窗口$windows$限制最优解的搜索空间，进而达到提高搜索效率的效果。在限定的搜索空间中，依然采用传统的DTW算法，如公式(5)所示。

$$
d(i,j) = disFunc(s_i,s_j) + min(d(i-1,j),d(i,j-1),d(i-i,j-1))
$$
$disFunc$为距离度量函数，实验中采用欧式距离 $disFunc = \sqrt{(s_i - s_j)^2}$。

3) 由公式(3)可以算出5个距离$D$，对$D$进行排序，选出最小的3个距离的平均值作为模板距离参数$pd$。
$$
	pd = \frac{1}{3}(D[0]+D[1]+D[2])
$$

保存模板距离参数$pd$，并且保存$D[0],D[1],D[2]$对应的手势动作数据$G_{i}^{'},G_{j}^{'},G_{k}^{'}$。

\subsection{手势动作的认证匹配}

手势动作的认证匹配阶段，主要分为三个过程：待认证手势动作数据采集和预处理阶段；模板的加载阶段；手势动作数据与模板的匹配阶段。算法的流程图如图2所示。



step1: 采集手势数据$G_{test}$，采用和模板生成预处理阶段相同的预处理策略对$G_{test}$进行预处理操作，生成预处理过后的数据$G_{test}^{'}$。

step2: 加载模板距离参数$pd$以及模板包含的三个手势动作数据$G_{i}^{'},G_{j}^{'},G_{k}^{'}$。

step3: 根据公式(4)，分别计算待认证手势和模板三个手势动作数据$G_{i}^{'},G_{j}^{'},G_{k}^{'}$的距离，待认证手势和模板的最终距离为公式(7)。

$$
d_{tp} = \frac{1}{3}(Dist(G_{test}^{'},G_{i}^{'} )+ Dist(G_{test}^{'},G_{j}^{'} )+ Dist(G_{test}^{'},G_{k}^{'})
$$

4) 手势动作认证规则如公式(8)


$$
\left\{
\begin{array}{lr}
\text{认证成功}, & if \quad  \frac{d_{tp}}{dp} \leqslant \delta,  \\
\text{认证失败}, & if \quad  \frac{d_{tp}}{dp} > \delta.
\end{array}
\right.
$$

$\delta$为认证决策阈值，阈值的选择通过实验仿真得到。$\delta$阈值的大小会直接影响算法的精度。


\section{实验结仿真与结果分析}

\subsection{数据采集}
数据采集设备为 LG Nexus 5X，实验共采集了7个人的466条手势动作数据。实验人员手持手机，在空中都做字母'w'的手势。以一个人的手势为参考模板，其他6人在采集数据时，尽可能的在挥动速度、空间位移、挥动加速度等方面模仿参考人的手势动作，以此来提高模型的抗攻击性。

\subsection{数据预处理}
数据的预处理策略主要有平均值平滑、归一化、端点检测和截断。以传感器X轴数据为例，原数据如图3所示；传感器X轴数据峰值点数据、截断后的数据、归一化后的数据以及平滑后的数据如图4所示。由图4可知，本实验采用的端点检测方法可以有效地检测手势动作的起始点。

\subsection{对比实验设计}
为了验证不同的预处理策略对模型精度影响，设计了5组实验，如表(2)所示。针对不同的实验，采用不同的预处理策略生成模板，并按照同样的策略进行模板匹配。


\subsection{实验仿真结果对比与分析}

本实验采用了8种评估参数对5组实验进行对比，这些参数分别是：错误拒绝率(False Rejection Rate, FRR)、错误接受率(False Acceptance Rate,FAR)、等错误率(Equal Error Rate, EER) 、精确率(Precision)、召回率(Recall)、F1值(F1 Score)、准确率(Accuracy)、阈值$\delta$。通过设置不同的阈值$\delta$，计算相应$\delta$下各个参数的值。实验重点关注FAR和FRR两个指标。以实验二为例，不同的$\delta$参数下，FAR和FRR的值如图5，所示。


本实验的所有实验结果如表3所示，本实验的最优模型和其他文献最优模型比较如表4所示。表4中的‘x’表示文献未给出参数结果。。


由表3可以看出：实验FTF具有最低的FAR和FRR，其他衡量指标也高于其他实验。对数据进行平滑后，会丢失一些高频信息，并没有提高认证精度。同样，对数据进行归一化后会相应的降低阈值$\delta$，但对模型提高模型精度没有帮助。对数据进行端点检测和截断后，可以有效的提高认证的精度。模型最终选取不进行平滑、不进行归一化、进行端点检测和截断的预处理策略，FRR和FAR最优时的参数$\delta$设置为1.940。

通过与其他文献的模型进行对比，可以看出本实验采用的方法在EER和FRR都比较低，优于部分文献采用的方法；FAR也和文献10持平，仍有一定的优化空间。

\section{结论与展望}
本文采用离散差分法和线性插值法，有效的找出了传感器数据的峰值点；并采用基于峰值点的门限值方法对手势动作线性加速度传感器数据进行端点检测。通过设计不同的实验，最终选定不进行平滑、不进行归一化、进行端点检测和截断的预处理策略，预处理策略在一定程度上也降低了模型的整体时间复杂度；最终采用效率较高的Fast-DTW算法在智能手机端进行了实验仿真。本模型的FRR和FAR分别为0.033和0.046，具有较高的精度，在手机端易于实施，是一种很有潜力的身份认证方法。本模型训练数据相对较小，在FAR等一些参数上仍需要进一步的研究和探索。
